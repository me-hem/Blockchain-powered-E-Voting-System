<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}

	<div class="col-md-6" >
	    <center>Statistics</center>

		<table>
		  <tr>
		  	<th>Total Voting time</th>
		    <th>Total Blocks mined</th>
			<th>Total Mining Time</th>
		  </tr>
		  <tr>
		  	<td>{{voting_time}}</td>
		    <td>{{length}}</td>
			<td>{{mining_time}} sec</td>
		  </tr>
		  <tr>
			<th>Transactions per block (avg)</th>
			<th>Mining time per block (avg)</th>
			<th>Leading Party</th>
		  </tr>
		  	<td>{{average_transaction}}</td>
			<td>{{average_time}} sec</td>
			<td>{{leading_party}}</td>
		</table>
	</div>

	<div class="col-md-4" style="margin-left: 10px;">
	    <center>Result Summary</center>

		<br><br>
		<table> 
		  <tr>
		    <th width="25%">Political Party Name</th>
		    <th width="25%">Total vote gain</th>
		  </tr>
		  {% for p in political_parties %}
		  <tr>
		    <td>{{p}}</td>
		    <td>{{vote_gain.count(p)}}</td>
		  </tr>
		 {% endfor %}
		</table>
	</div>
	    

	<div class="col-md-5" style="overflow-y: auto;">
		<center>Voting Details</center>

		<table>
		  <tr>
			<th>Voter ID</th>
			<th>Political Party Name</th>
			<th>Voted Time</th>
		  </tr>
		  {% for post in posts %}
		  <tr>
			  <td>{{post.voter_id}}</td>
			<td>{{post.party}}</td>
			<td>{{readable_time(post.timestamp)}}</td>
		  </tr>
		 {% endfor %}
		</table>
	</div>

	   
	

	<style>
	center {
		font-weight: bold;
		font-size: 40px;
	}
	table {
	  font-family: arial, sans-serif;
	  font-size: 20px; 
	  border-collapse: collapse;
	  width: 100%;
	}

	td, th {
	  border: 1px solid #dddddd;
	  text-align: center;
	  padding: 8px;
	}

	
	.col-md-4{
	    float: right;
	    width: 30%;
		border: 4px double black;
		margin: auto 200px;
		height: 30%;
	}
	.col-md-6{
	    float: left;
	    width: 30%;
		border: 4px double black;
		margin: auto 200px auto;
		align-self: center;
	}

	.col-md-5{
	    float: left;
	    width: 60%;
		border: 4px double black;
		margin: 70px auto auto 350px;
		align-self: center;
		height: 40%;
	}
	</style>

	<script>
		setInterval(function(){
			window.location.reload();
		}, 5000);
	</script>
{% endblock %}
